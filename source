local plr = game.Players.LocalPlayer

local africa = {
	["GuardNoir"] = true,
	["S4nd33er"] = true,
	["vigilxntt"] = true,
	["Xxadi123XD"] = true,
	["htpp_kaczuszka"] = true,
	["Pola_1b"] = true,
	["Ghxstbbusta66"] = true,
	["oskadsa1"] = true,
	["XxJulyXx_Xx"] = true,
	["Cinnamon_3520"] = true,
	["Blue_pulll"] = true,
	["faeriee4"] = true
}

if africa[plr.Name] then
	plr:Kick("thousands of wins but caught cheating. " ..plr.Name.. " oh " ..plr.Name.. ".")
end

local UI = loadstring(game:HttpGet("https://xan.bar/init.lua"))()

local Window = UI.New({
    Title = "Clown Killing\nReborn",
    Theme = "Default"
})

local Main = Window:AddTab("General", UI.Icons.Render)
Main:AddSection("Features")

Main:AddLabel("Welcome to ClKiRe Cheat Peetitu (pt ii)")

local Players = game:GetService("Players")
local localPlayer = Players.LocalPlayer

local clownLoop = false
Main:AddToggle("Show Clown", { Default = false }, function(enabled)
    if enabled then
        clownLoop = true
        task.spawn(function()
            while clownLoop do
                for _, player in ipairs(Players:GetPlayers()) do
                    if player.Team and player.Team.Name == "Clown" then
                        local char = player.Character
                        local hrp = char and char:FindFirstChild("HumanoidRootPart")
                        if char and hrp and not char:FindFirstChild("ClownBillboard") then
                            local billboard = Instance.new("BillboardGui")
                            billboard.Name = "ClownBillboard"
                            billboard.Size = UDim2.new(1, 50, 1, 50)
                            billboard.Adornee = hrp
                            billboard.AlwaysOnTop = true
                            billboard.Parent = char

                            local label = Instance.new("TextLabel")
                            label.Size = UDim2.new(1, 0, 1, 0)
                            label.BackgroundTransparency = 1
                            label.TextStrokeTransparency = 0
                            label.Font = Enum.Font.Roboto
                            label.Text = "Clown"
                            label.TextColor3 = Color3.fromRGB(225, 6, 0)
                            label.TextScaled = true
                            label.Parent = billboard
                        end
                    end
                end
                task.wait(1)
            end
        end)
    else
        clownLoop = false
        for _, player in ipairs(Players:GetPlayers()) do
            local char = player.Character
            local bb = char and char:FindFirstChild("ClownBillboard")
            if bb then bb:Destroy() end
        end
    end
end)

local clownHighlightLoop = false
local highlightColor = Color3.fromRGB(255, 0, 0) -- default red

Main:AddToggle("Highlight Clown", { Default = false }, function(enabled)
    if enabled then
        clownHighlightLoop = true
        task.spawn(function()
            while clownHighlightLoop do
                for _, player in ipairs(Players:GetPlayers()) do
                    if player.Team and player.Team.Name == "Clown" then
                        local char = player.Character
                        if char then
                            local hl = char:FindFirstChild("ClownHighlight")
                            if not hl then
                                hl = Instance.new("Highlight")
                                hl.Name = "ClownHighlight"
                                hl.FillColor = Color3.fromRGB(0, 0, 0)
                                hl.FillTransparency = 1
                                hl.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
                                hl.Adornee = char
                                hl.Parent = char
                            end
                            -- Update outline color every loop
                            hl.OutlineColor = highlightColor
                            hl.OutlineTransparency = 0
                        end
                    end
                end
                task.wait(1)
            end
        end)
    else
        clownHighlightLoop = false
        for _, player in ipairs(Players:GetPlayers()) do
            local char = player.Character
            local hl = char and char:FindFirstChild("ClownHighlight")
            if hl then hl:Destroy() end
        end
    end
end)

Main:AddColorPicker("Color Picker - Highlight Clown", {
    Default = UI.RGB(255, 0, 0),
    Flag = "esp_color"
}, function(color)
    highlightColor = color
    for _, player in ipairs(Players:GetPlayers()) do
        if player.Team and player.Team.Name == "Clown" then
            local char = player.Character
            local hl = char and char:FindFirstChild("ClownHighlight")
            if hl then
                hl.OutlineColor = highlightColor
            end
        end
    end
end)

local victimLoop = false
Main:AddToggle("Show Victims", { Default = false }, function(enabled)
    if enabled then
        victimLoop = true
        task.spawn(function()
            while victimLoop do
                for _, player in ipairs(Players:GetPlayers()) do
                    if player ~= localPlayer and player.Team and player.Team.Name == "Victims" then
                        local char = player.Character
                        local head = char and char:FindFirstChild("Head")
                        if head and not char:FindFirstChild("VictimBillboard") then
                            local billboard = Instance.new("BillboardGui")
                            billboard.Name = "VictimBillboard"
                            billboard.Size = UDim2.new(1, 50, 1, 50)
                            billboard.Adornee = head
                            billboard.AlwaysOnTop = true
                            billboard.Parent = char

                            local label = Instance.new("TextLabel")
                            label.Size = UDim2.new(1, 0, 1, 0)
                            label.BackgroundTransparency = 1
                            label.TextStrokeTransparency = 0
                            label.Text = "Victim"
                            label.TextColor3 = Color3.fromRGB(125, 249, 255)
                            label.TextScaled = true
                            label.Font = Enum.Font.Roboto
                            label.Parent = billboard
                        end
                    end
                end
                task.wait(1)
            end
        end)
    else
        victimLoop = false
        for _, player in ipairs(Players:GetPlayers()) do
            if player ~= localPlayer then
                local char = player.Character
                local bb = char and char:FindFirstChild("VictimBillboard")
                if bb then bb:Destroy() end
            end
        end
    end
end)

local victimHighlightLoop = false
local victimHighlightColor = Color3.fromRGB(125, 249, 255)

Main:AddToggle("Highlight Victims", { Default = false }, function(enabled)
    if enabled then
        victimHighlightLoop = true
        task.spawn(function()
            while victimHighlightLoop do
                for _, player in ipairs(Players:GetPlayers()) do
                    if player ~= localPlayer and player.Team and player.Team.Name == "Victims" then
                        local char = player.Character
                        if char then
                            local hl = char:FindFirstChild("VictimHighlight")
                            if not hl then
                                hl = Instance.new("Highlight")
                                hl.Name = "VictimHighlight"
                                hl.FillColor = Color3.fromRGB(0, 255, 0)
                                hl.FillTransparency = 1
                                hl.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
                                hl.Adornee = char
                                hl.Parent = char
                            end
                            hl.OutlineColor = victimHighlightColor
                            hl.OutlineTransparency = 0
                        end
                    end
                end
                task.wait(1)
            end
        end)
    else
        victimHighlightLoop = false
        for _, player in ipairs(Players:GetPlayers()) do
            if player ~= localPlayer then
                local char = player.Character
                local hl = char and char:FindFirstChild("VictimHighlight")
                if hl then hl:Destroy() end
            end
        end
    end
end)

Main:AddColorPicker("Color Picker - Highlight Victims", {
    Default = UI.RGB(125, 249, 255),
    Flag = "victim_esp_color"
}, function(color)
    victimHighlightColor = color
    for _, player in ipairs(Players:GetPlayers()) do
        if player.Team and player.Team.Name == "Victims" then
            local char = player.Character
            local hl = char and char:FindFirstChild("VictimHighlight")
            if hl then
                hl.OutlineColor = victimHighlightColor
            end
        end
    end
end)

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local LocalPlayer = Players.LocalPlayer
local touchConnection
local radioHitPart
local radioMissingWarned = false

local function findRadioHitPart()
    for _, inst in ipairs(workspace:GetDescendants()) do
        if inst:IsA("BasePart")
            and inst.Name == "hit"
            and inst.Parent
            and inst.Parent:IsA("Model")
            and inst.Parent.Name == "Radio" then
            return inst
        end
    end
end

Main:AddToggle("Where Is the Radio?", { Default = false }, function(enabled)
    if enabled then
        touchConnection = RunService.Heartbeat:Connect(function()
            local character = LocalPlayer.Character
            local hrp = character and character:FindFirstChild("HumanoidRootPart")
            if not hrp then return end

            if not radioHitPart or not radioHitPart.Parent then
                radioHitPart = findRadioHitPart()

                if not radioHitPart then
                    if not radioMissingWarned then
                        UI.Success("nigga", "i cant find the radio either")
                        radioMissingWarned = true
                    end
                    return
                end

                radioMissingWarned = false
            end

            firetouchinterest(radioHitPart, hrp, 0)
        end)
    else
        if touchConnection then
            touchConnection:Disconnect()
            touchConnection = nil
        end
        radioHitPart = nil
        radioMissingWarned = false
    end
end)

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local function findRadioHitPart()
    for _, inst in ipairs(workspace:GetDescendants()) do
        if inst:IsA("BasePart") and inst.Name == "hit" and inst.Parent and inst.Parent:IsA("Model") and inst.Parent.Name == "Radio" then
            return inst
        end
    end
end

Main:AddButton("Fix Radio Loading Progress", function()
    local radioHitPart = findRadioHitPart()
    if not radioHitPart then
        UI.Success("nigga", "there is not even any radio")
        return
    end

    local character = LocalPlayer.Character
    local hrp = character and character:FindFirstChild("HumanoidRootPart")
    if not hrp then
        UI.Success("nigga", "where is ur humanoidrootpart?")
        return
    end

    firetouchinterest(radioHitPart, hrp, 0)
end)

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local swingLoop
local equipped = false
local knifeTool

Main:AddToggle("Auto-Swing Knife", { Default = false }, function(enabled)
    if enabled then
        knifeTool = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Tool")
        if not knifeTool or knifeTool.Name ~= "Knife" then
            UI.Success("nigga", "u are not Clown or the round has not started yet")
            return
        end

        equipped = true

        swingLoop = task.spawn(function()
            while enabled and equipped and knifeTool and knifeTool.Parent == LocalPlayer.Character do
                knifeTool:Activate()
                task.wait(.5)
            end
        end)

        LocalPlayer.Character.ChildAdded:Connect(function(child)
            if child:IsA("Tool") and child.Name == "Knife" then
                knifeTool = child
                equipped = true
                if not swingLoop or not task.isRunning(swingLoop) then
                    swingLoop = task.spawn(function()
                        while enabled and equipped and knifeTool and knifeTool.Parent == LocalPlayer.Character do
                            knifeTool:Activate()
                            task.wait(0.5)
                        end
                    end)
                end
            end
        end)

        LocalPlayer.Character.ChildRemoved:Connect(function(child)
            if child == knifeTool then
                equipped = false
            end
        end)
        
    else
        equipped = false
        knifeTool = nil
    end
end)

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local LocalPlayer = Players.LocalPlayer
local followConnection

local sd = 2

Main:AddToggle("Get Nearest Victim", { Default = false }, function(enabled)
    if enabled then
        if not LocalPlayer.Team or LocalPlayer.Team.Name ~= "Clown" then
            UI.Success("nigga", "u must be the Clown to use this")
            return
        end

        followConnection = RunService.Heartbeat:Connect(function()
            local character = LocalPlayer.Character
            if not character then return end

            local humanoid = character:FindFirstChildOfClass("Humanoid")
            local hrp = character:FindFirstChild("HumanoidRootPart")
            if not humanoid or humanoid.Health <= 0 or not hrp then return end

            local nearestVictim
            local shortestDistance = math.huge

            for _, player in ipairs(Players:GetPlayers()) do
                if player.Team and player.Team.Name == "Victims" and player.Character then
                    local vChar = player.Character
                    local vHRP = vChar:FindFirstChild("HumanoidRootPart")
                    local vHum = vChar:FindFirstChildOfClass("Humanoid")

                    if vHRP and vHum and vHum.Health > 0 then
                        local dist = (vHRP.Position - hrp.Position).Magnitude
                        if dist < shortestDistance then
                            shortestDistance = dist
                            nearestVictim = vHRP
                        end
                    end
                end
            end

            if nearestVictim then
                if shortestDistance > sd then
                    local direction = (nearestVictim.Position - hrp.Position).Unit
                    local targetPosition = nearestVictim.Position - (direction * sd)
                    humanoid:MoveTo(targetPosition)
                else
                    humanoid:MoveTo(hrp.Position)
                end
            end
        end)
    else
        if followConnection then
            followConnection:Disconnect()
            followConnection = nil
        end
    end
end)

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

local aimbotConnection

Main:AddToggle("Aimlock on Bozo", { Default = false }, function(enabled)
    if enabled then
        local warned = false
        aimbotConnection = RunService.RenderStepped:Connect(function()
            local localCharacter = LocalPlayer.Character
            if not localCharacter then return end
            local localHRP = localCharacter:FindFirstChild("HumanoidRootPart")
            if not localHRP then return end

            local closestTarget = nil
            local shortestDistance = math.huge

            for _, player in pairs(Players:GetPlayers()) do
                if player.Team and player.Team.Name == "Clown" and player.Character and player.Character:FindFirstChild("HumanoidRootPart") and player ~= LocalPlayer then
                    local targetHRP = player.Character.HumanoidRootPart
                    local distance = (targetHRP.Position - localHRP.Position).Magnitude
                    if distance < shortestDistance then
                        shortestDistance = distance
                        closestTarget = player
                    end
                end
            end

            if closestTarget then
                warned = false
                local targetPos = closestTarget.Character.HumanoidRootPart.Position
                local cameraPos = Camera.CFrame.Position
                local newCFrame = CFrame.new(cameraPos, targetPos)

                Camera.CFrame = newCFrame
            else
                if not warned then
                    UI.Success("nigga", "the round has not started yet, u have to be a Shooter by the way")
                    warned = true
                end
            end
        end)
    else
        if aimbotConnection then
            aimbotConnection:Disconnect()
            aimbotConnection = nil
        end
    end
end)

local Main2 = Window:AddTab("More", UI.Icons.World)
Main2:AddSection("Features")

local Players = game:GetService("Players")
local localPlayer = Players.LocalPlayer

Main2:AddToggle("Lay Down", { Default = false }, function(enabled)
    local char = localPlayer.Character or localPlayer.CharacterAdded:Wait()
    local humanoid = char:FindFirstChildOfClass("Humanoid")
    local root = char:FindFirstChild("HumanoidRootPart")

    if humanoid and root then
        if enabled then
            humanoid.Sit = true
            task.wait(.1)

            root.CFrame = root.CFrame * CFrame.Angles(math.pi * 0.5, 0, 0)

            for _, track in ipairs(humanoid:GetPlayingAnimationTracks()) do
                track:Stop()
            end
        else
            humanoid.Sit = false

            root.CFrame = CFrame.new(root.Position)
        end
    end
end)

local Players = game:GetService("Players")
local localPlayer = Players.LocalPlayer

Main2:AddToggle("Sit", { Default = false }, function(enabled)
    local char = localPlayer.Character or localPlayer.CharacterAdded:Wait()
    local humanoid = char:FindFirstChildOfClass("Humanoid")

    if humanoid then
        if enabled then
            -- Force the player to sit
            humanoid.Sit = true
        else
            -- Stand back up
            humanoid.Sit = false
        end
    end
end)

Main2:AddSlider("Walk Speed",{
	Min = 0.01,
	Max = 19.999,
	Default = 16, Increment = 0.01
}, function(v)
	currentSpeed = math.min(v, 19.999) 
end) 

Main2:AddToggle("Enable Walk Speed", { Default = false }, function(enabled)
	if enabled then
		UI.Success("nigga", "run as fast as Clown")
		walkLoop = true
		task.spawn(function()
			while walkLoop do
				local char = localPlayer.Character or localPlayer.CharacterAdded:Wait()
				local humanoid = char:FindFirstChildOfClass("Humanoid")
				if humanoid then
					local speed = math.min(currentSpeed, 19.999)
					if speed == 20 then
						speed = 19.999
					end
					humanoid.WalkSpeed = speed
				end
				task.wait(0.5)
			end
		end)
	else
		walkLoop = false
		local char = localPlayer.Character
		local humanoid = char and char:FindFirstChildOfClass("Humanoid")
		if humanoid then
			humanoid.WalkSpeed = 16
		end
	end
end)

Main2:AddSlider("Jump Power", {
    Min = 0.01,
    Max = 90,
    Default = 50,
    Increment = 0.01
}, function(v)
    currentJumpPower = math.min(v, 90)
end)

Main2:AddToggle("Enable Jump Power", { Default = false }, function(enabled)
    if enabled then
        UI.Success("nigga", "Clown still jumps higher than u")
        jumpLoop = true
        task.spawn(function()
            while jumpLoop do
                local char = localPlayer.Character or localPlayer.CharacterAdded:Wait()
                local humanoid = char:FindFirstChildOfClass("Humanoid")

                if humanoid then
                    local jumpPower = math.min(currentJumpPower, 90)
                    humanoid.JumpPower = jumpPower
                end

                task.wait(0.5)
            end
        end)
    else
        jumpLoop = false
        local char = localPlayer.Character
        local humanoid = char and char:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid.JumpPower = 50
        end
    end
end)

local Camera = game.Players.LocalPlayer
local originalMaxZoom = Camera.CameraMaxZoomDistance

Main2:AddToggle("Camera Zoom Distance", { Default = false }, function(enabled)
    if enabled then
        Camera.CameraMaxZoomDistance = math.huge
    else
        Camera.CameraMaxZoomDistance = originalMaxZoom
    end
end)

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local LocalPlayer = Players.LocalPlayer
local flying = false
local flyConn, noclipConn
local bv, bg

local SPEED = 19

local controls = {
    W = 0, A = 0, S = 0, D = 0,
    Up = 0, Down = 0
}

local function setCollision(character, state)
    for _, v in ipairs(character:GetDescendants()) do
        if v:IsA("BasePart") then
            v.CanCollide = state
        end
    end
end

local function startFly()
    local char = LocalPlayer.Character
    if not char then return end

    local hrp = char:FindFirstChild("HumanoidRootPart")
    local hum = char:FindFirstChildOfClass("Humanoid")
    if not hrp or not hum then return end

    hum.PlatformStand = true
    setCollision(char, false)

    bv = Instance.new("BodyVelocity")
    bv.MaxForce = Vector3.new(1e9, 1e9, 1e9)
    bv.Velocity = Vector3.zero
    bv.Parent = hrp

    bg = Instance.new("BodyGyro")
    bg.MaxTorque = Vector3.new(1e9, 1e9, 1e9)
    bg.CFrame = hrp.CFrame
    bg.Parent = hrp

    flyConn = RunService.RenderStepped:Connect(function()
        local cam = workspace.CurrentCamera
        bg.CFrame = cam.CFrame

        local move =
            cam.CFrame.LookVector * (controls.W - controls.S) +
            cam.CFrame.RightVector * (controls.D - controls.A) +
            cam.CFrame.UpVector * (controls.Up - controls.Down)

        bv.Velocity = (move.Magnitude > 0) and (move.Unit * SPEED) or Vector3.zero
    end)

    noclipConn = RunService.Stepped:Connect(function()
        if char then
            setCollision(char, false)
        end
    end)
end

local function stopFly()
    if flyConn then flyConn:Disconnect() flyConn = nil end
    if noclipConn then noclipConn:Disconnect() noclipConn = nil end

    if bv then bv:Destroy() bv = nil end
    if bg then bg:Destroy() bg = nil end

    local char = LocalPlayer.Character
    local hum = char and char:FindFirstChildOfClass("Humanoid")
    if hum then
        hum.PlatformStand = false
    end
    if char then
        setCollision(char, true)
    end
end

UserInputService.InputBegan:Connect(function(i, g)
    if g then return end
    if i.KeyCode == Enum.KeyCode.W then controls.W = 1 end
    if i.KeyCode == Enum.KeyCode.S then controls.S = 1 end
    if i.KeyCode == Enum.KeyCode.A then controls.A = 1 end
    if i.KeyCode == Enum.KeyCode.D then controls.D = 1 end
    if i.KeyCode == Enum.KeyCode.Space then controls.Up = 1 end
    if i.KeyCode == Enum.KeyCode.LeftControl then controls.Down = 1 end
end)

UserInputService.InputEnded:Connect(function(i)
    if i.KeyCode == Enum.KeyCode.W then controls.W = 0 end
    if i.KeyCode == Enum.KeyCode.S then controls.S = 0 end
    if i.KeyCode == Enum.KeyCode.A then controls.A = 0 end
    if i.KeyCode == Enum.KeyCode.D then controls.D = 0 end
    if i.KeyCode == Enum.KeyCode.Space then controls.Up = 0 end
    if i.KeyCode == Enum.KeyCode.LeftControl then controls.Down = 0 end
end)

Main2:AddToggle("Fly Collab with NoClip", { Default = false }, function(enabled)
    flying = enabled
    if enabled then
        startFly()
    else
        stopFly()
    end
end)

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

local flying = false
local flyConn, noclipConn
local bv, bg
local SPEED = 19

local move = Vector3.zero
local gui

local function setCollision(char, state)
    for _, v in ipairs(char:GetDescendants()) do
        if v:IsA("BasePart") then
            v.CanCollide = state
        end
    end
end

local function createButton(parent, text, pos)
    local b = Instance.new("TextButton")
    b.Size = UDim2.fromScale(0.18, 0.12)
    b.Position = pos
    b.Text = text
    b.TextScaled = true
    b.BackgroundTransparency = 0.2
    b.Parent = parent
    return b
end

local function createControls()
    gui = Instance.new("ScreenGui")
    gui.ResetOnSpawn = false
    gui.Parent = LocalPlayer:WaitForChild("PlayerGui")

    local frame = Instance.new("Frame", gui)
    frame.Size = UDim2.fromScale(1, 1)
    frame.BackgroundTransparency = 1

    local up    = createButton(frame, "↑", UDim2.fromScale(0.82, 0.55))
    local down  = createButton(frame, "↓", UDim2.fromScale(0.82, 0.70))
    local left  = createButton(frame, "←", UDim2.fromScale(0.72, 0.63))
    local right = createButton(frame, "→", UDim2.fromScale(0.92, 0.63))
    local rise  = createButton(frame, "UP", UDim2.fromScale(0.05, 0.55))
    local fall  = createButton(frame, "DOWN", UDim2.fromScale(0.05, 0.70))

    local function bind(btn, vec)
        btn.TouchStarted:Connect(function() move += vec end)
        btn.TouchEnded:Connect(function() move -= vec end)
    end

    bind(up,    Vector3.new(0, 0, -1))
    bind(down,  Vector3.new(0, 0,  1))
    bind(left,  Vector3.new(-1, 0, 0))
    bind(right, Vector3.new( 1, 0, 0))
    bind(rise,  Vector3.new(0, 1, 0))
    bind(fall,  Vector3.new(0,-1, 0))
end

local function startFly()
    local char = LocalPlayer.Character
    if not char then return end

    local hrp = char:FindFirstChild("HumanoidRootPart")
    local hum = char:FindFirstChildOfClass("Humanoid")
    if not hrp or not hum then return end

    hum.PlatformStand = true
    setCollision(char, false)
    createControls()

    bv = Instance.new("BodyVelocity", hrp)
    bv.MaxForce = Vector3.new(1e9,1e9,1e9)

    bg = Instance.new("BodyGyro", hrp)
    bg.MaxTorque = Vector3.new(1e9,1e9,1e9)

    flyConn = RunService.RenderStepped:Connect(function()
        bg.CFrame = Camera.CFrame
        if move.Magnitude > 0 then
            local dir =
                Camera.CFrame.RightVector * move.X +
                Camera.CFrame.UpVector * move.Y +
                Camera.CFrame.LookVector * move.Z
            bv.Velocity = dir.Unit * SPEED
        else
            bv.Velocity = Vector3.zero
        end
    end)

    noclipConn = RunService.Stepped:Connect(function()
        setCollision(char, false)
    end)
end

local function stopFly()
    if flyConn then flyConn:Disconnect() end
    if noclipConn then noclipConn:Disconnect() end
    if bv then bv:Destroy() end
    if bg then bg:Destroy() end
    if gui then gui:Destroy() end

    local char = LocalPlayer.Character
    local hum = char and char:FindFirstChildOfClass("Humanoid")
    if hum then hum.PlatformStand = false end
    if char then setCollision(char, true) end

    move = Vector3.zero
end

Main2:AddToggle("Fly Collab with NoClip (pt ii)", { Default = false }, function(v)
    flying = v
    if v then
        startFly()
    else
        stopFly()
    end
end)

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local LocalPlayer = Players.LocalPlayer
local spoofSpeed = 16
local enforceConnection

Main2:AddSlider("Speed Spoofer Experimental", {
    Min = 8,
    Max = 24,
    Default = 16,
    Increment = 0.1
}, function(value)
    spoofSpeed = value
end)

enforceConnection = RunService.Heartbeat:Connect(function()
    local char = LocalPlayer.Character
    local hum = char and char:FindFirstChildOfClass("Humanoid")
    if hum then
        if hum.WalkSpeed ~= spoofSpeed then
            hum.WalkSpeed = spoofSpeed
        end
    end
end)

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")

local LocalPlayer = Players.LocalPlayer

local function getLobbyTarget()
    local lobby = workspace:FindFirstChild("Lobby")
    if not lobby then return nil end

    if lobby:IsA("Model") then
        return lobby.PrimaryPart or lobby:FindFirstChildWhichIsA("BasePart", true)
    end

    if lobby:IsA("BasePart") then
        return lobby
    end

    return nil
end

local function tweenToLobby()
    local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local hrp = char:WaitForChild("HumanoidRootPart")

    local targetPart = getLobbyTarget()
    if not targetPart then
        warn("Lobby target not found")
        return
    end

    local humanoid = char:FindFirstChildOfClass("Humanoid")
    if humanoid then
        humanoid:ChangeState(Enum.HumanoidStateType.Physics)
    end

    local tweenInfo = TweenInfo.new(
        3.5, -- duration (slow)
        Enum.EasingStyle.Quad,
        Enum.EasingDirection.Out
    )

    local goal = {
        CFrame = targetPart.CFrame + Vector3.new(0, 3, 0)
    }

    local tween = TweenService:Create(hrp, tweenInfo, goal)
    tween:Play()

    tween.Completed:Once(function()
        if humanoid then
            humanoid:ChangeState(Enum.HumanoidStateType.Running)
        end
    end)
end

Main2:AddButton("Let's Go to the Lobby Bitch", function()
    tweenToLobby()
end)

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

local headSitConnection

local function getPlayersByName(query)
    local matches = {}
    query = query:lower()
    for _, player in pairs(Players:GetPlayers()) do
        if player.Name:lower():find(query) or (player.DisplayName and player.DisplayName:lower():find(query)) then
            table.insert(matches, player)
        end
    end
    return matches
end

local function getRoot(character)
    return character and character:FindFirstChild("HumanoidRootPart")
end

Main2:AddInput("Deal with Teamers (sit on one teamer's shoulders)", function(text)
    if headSitConnection then
        headSitConnection:Disconnect()
        headSitConnection = nil
    end

    local matches = getPlayersByName(text)
    if #matches ~= 1 then
        UI.Success("nigga", "there is no such player with that name. Found:", #matches)
        return
    end

    local targetPlayer = matches[1]
    local speakerChar = LocalPlayer.Character
    local targetChar = targetPlayer.Character

    if not speakerChar or not targetChar then
        UI.Success("nigga", "wait the character to load, deadass")
        return
    end

    local speakerHumanoid = speakerChar:FindFirstChildOfClass("Humanoid")
    if not speakerHumanoid then
        UI.Success("nigga", "i cannot find HRP")
        return
    end

    local speakerRoot = getRoot(speakerChar)
    local targetRoot = getRoot(targetChar)
    if not speakerRoot or not targetRoot then
        UI.Success("nigga", "smth is missing inside your body")
        return
    end

    speakerHumanoid.Sit = true

    headSitConnection = RunService.Heartbeat:Connect(function()
        if not Players:FindFirstChild(targetPlayer.Name) or not targetPlayer.Character or not speakerHumanoid.Sit then
            headSitConnection:Disconnect()
            headSitConnection = nil
            return
        end
        local targetRoot = getRoot(targetPlayer.Character)
        local speakerRoot = getRoot(LocalPlayer.Character)
        if not targetRoot or not speakerRoot then
            headSitConnection:Disconnect()
            headSitConnection = nil
            return
        end
        local offset = CFrame.new(0, 1.6, 0.4)
        speakerRoot.CFrame = targetRoot.CFrame * offset
    end)
end)

if UI.IsMobile then
    UI.MobileToggle({ Window = Window })
end
